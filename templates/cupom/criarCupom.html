{% extends "base.html" %}

{% block conteudo %}

   
<form method="post" enctype="multipart/form-data">
    <div class="container">
        <h1 class="text-secondary mb-3">Criar Cupom</h1>
        
        <div class="row">
          <div class="col-md-4 fs-4 pe-3 border-end">
            <label for="nome">Nome do Código</label>
            <input type="text" class="form-control mb-3" id="nome" placeholder="Ex:  PERIM28" value="" required="" name="nome">
            <label for="desconto">Valor do desconto (%) </label>
            <input type="text" class="form-control mb-3" id="desconto" placeholder="Ex: 20" value="" required="" name="valor">
            <label for="condicao">Condição</label>
            <input type="text" class="form-control mb-3" id="condicao" name="condicao" placeholder="Ex: compras acima de R$ 200,00, produtos sem lactose...">
          </div>
          <div class="col-md-4 fs-4 ps-3 pe-3 border-end">
              <div>Imagem do cupom: </div>
              <div class="input-group mt-2">
                <input class="form-control" type="file" id="arquivoImagem" name="arquivoImagem" onchange="previewImage(event)" accept="image/jpeg" required>
                <span class="text-danger d-none small"></span>
                <img id="preview" src="" class="border border-2 rounded rounded-3 p-2 w-100 d-none" />
              </div>

          </div>
          <div class="col-md-4 fs-4 ps-3">
            <br>
            <p class="mb-3">Validade</p>
            <div class="row">
              <div class="col-md-6">
                <label for="inicio">Data de Início:</label>
                <input name="dt_inicio" type="date" class="form-control mb-3" id="inicio" required>
              </div>
              <div class="col-md-6">
                <label for="inicio"> Data de Fim:</label>
                <input name="dt_fim" type="date" class="form-control mb-3" id="inicio" required>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <label for="inicio">Horário de Início:</label>
                <input name="hr_inicio" type="time" class="form-control mb-3" id="inicio" required>
              </div>
              <div class="col-md-6">
                <label for="inicio"> Horário de Fim:</label>
                <input name="hr_fim" type="time" class="form-control mb-3" id="inicio" required>
              </div>
            </div>
          </div>
        </div>
      <br>
      <h2 class="text-secondary mb-3">Exemplo</h2>
      <div class="row">
        <div class="col-12 col-md-4">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title text-center text-warning"> CÓDIGO: PERIM28 </h5>
                  <img src="static/imagens/cupom.svg" class="card-img-top w-75 mx-auto d-block mt-3 mb-2" alt="Cupom 1">
                </div>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item bg-primary text-white text-center">20% DE DESCONTO*</li>
                </ul>
              </div>
              <p style="font-size: 0.7rem;">*em compras acima de R$ 200,00 válidos até 23:59 do dia 08/05/2023</p>
        </div>
        <div class="col-12 col-md-4"></div>
        <div class="col-12 col-md-4">
          <div class="h-75"></div>
          <div class="d-flex justify-content-end">
            <button id="btnSalvar" class="fs-5 btn btn-primary text-white mb-2" type="submit" style="width: 100px;">Salvar</button>
            <button class="fs-5 btn btn-primary text-white mb-2 mx-2" type="reset" style="width: 100px;">Cancelar</button>
          </div>    
        </div>
      </div>
    </div>

    <script>
      function previewImage(event) {
          var reader = new FileReader();
          reader.onload = function () {
              var preview = document.getElementById('preview');
              preview.src = reader.result;
              preview.classList.remove('d-none');
          };
          reader.readAsDataURL(event.target.files[0]);
      }
    </script>
      
{% endblock %}